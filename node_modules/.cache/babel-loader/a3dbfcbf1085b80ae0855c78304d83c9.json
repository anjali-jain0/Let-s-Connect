{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Anjali\\\\Desktop\\\\AJ\\\\mern_social\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Anjali\\\\Desktop\\\\AJ\\\\mern_social\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Anjali\\\\Desktop\\\\AJ\\\\mern_social\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Anjali\\\\Desktop\\\\AJ\\\\mern_social\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Anjali\\\\Desktop\\\\AJ\\\\mern_social\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Anjali\\\\Desktop\\\\AJ\\\\mern_social\\\\src\\\\joingrp.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router-dom';\n\nvar GrpMembers =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(GrpMembers, _Component);\n\n  function GrpMembers() {\n    var _this;\n\n    _classCallCheck(this, GrpMembers);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GrpMembers).call(this));\n\n    _this.componentWillMount = function () {\n      var id = _this.props.match.params.id;\n      fetch('/getalljoingrp/' + id).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        return _this.setState({\n          alljoingrp: data\n        });\n      });\n    };\n\n    _this.handleJoin = function (grpid, id) {\n      fetch('/checkgrp/' + id + '/' + grpid).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        return _this.setState({\n          exist: data.exist,\n          uid: data.id\n        });\n      });\n    };\n\n    _this.removeJoinGrp = function (id) {\n      var usrid = _this.props.match.params.id;\n      fetch('/removejoingrp/' + id + '/' + usrid).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        return _this.componentWillMount();\n      });\n    };\n\n    _this.addmember = function (grpid) {\n      var usrid = _this.props.match.params.id;\n      console.log(usrid);\n      fetch('/addmember_joingrp/' + grpid + '/' + usrid).then(function (res) {\n        return res.json();\n      });\n    };\n\n    _this.state = {\n      allgrp: '',\n      exist: '',\n      uid: ''\n    };\n    return _this;\n  }\n\n  _createClass(GrpMembers, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.state.exist == 'yes' && this.state.uid) {\n        console.log('You are already a member of this group');\n        this.removeJoinGrp(this.state.uid);\n        this.setState({\n          exist: ''\n        });\n      }\n\n      if (this.state.exist == 'no' && this.state.uid) {\n        console.log('Added to group');\n        this.addmember(this.state.uid); //this.removeJoinGrp(this.state.uid);\n\n        this.setState({\n          exist: ''\n        });\n      }\n\n      if (this.state.alljoingrp) {\n        var grps = this.state.alljoingrp && this.state.alljoingrp.map(function (grp) {\n          return React.createElement(\"div\", {\n            className: \"col-sm-4\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"card\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"card-body\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }, React.createElement(\"h5\", {\n            className: \"card-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }, grp.id), React.createElement(\"button\", {\n            onClick: function onClick() {\n              return _this2.handleJoin(grp.id, _this2.props.match.params.id);\n            },\n            class: \"btn btn-primary\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }, \"Join Group\"))));\n        });\n      } else {\n        var grps = \"No Invites\";\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, grps);\n    }\n  }]);\n\n  return GrpMembers;\n}(Component);\n\nexport default GrpMembers;","map":{"version":3,"sources":["C:\\Users\\Anjali\\Desktop\\AJ\\mern_social\\src\\joingrp.js"],"names":["React","Component","Link","Redirect","GrpMembers","componentWillMount","id","props","match","params","fetch","then","res","json","data","setState","alljoingrp","handleJoin","grpid","exist","uid","removeJoinGrp","usrid","addmember","console","log","state","allgrp","grps","map","grp"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nclass GrpMembers extends Component {\r\n\r\n   constructor(){\r\n    super();\r\n    this.state={\r\n     allgrp:'',\r\n     exist:'',\r\n     uid:''\r\n    }\r\n  }\r\n\r\n  componentWillMount = () => {\r\n    const id = this.props.match.params.id;\r\n    fetch('/getalljoingrp/' + id)\r\n    .then(res => res.json())\r\n    .then(data => this.setState({alljoingrp:data}));\r\n  }\r\n \r\n  handleJoin = (grpid , id) => {\r\n    fetch('/checkgrp/' + id + '/' + grpid)\r\n    .then(res => res.json())\r\n    .then(data => this.setState({exist:data.exist,uid:data.id}));\r\n  }\r\n\r\n  removeJoinGrp = (id) => {\r\n    const usrid = this.props.match.params.id;\r\n    fetch('/removejoingrp/' + id + '/' + usrid)\r\n    .then(res => res.json())\r\n    .then(data => this.componentWillMount());\r\n  }\r\n\r\n  addmember = (grpid) => {\r\n    const usrid = this.props.match.params.id;\r\n    console.log(usrid);\r\n    fetch('/addmember_joingrp/' + grpid + '/' + usrid)\r\n    .then(res => res.json())\r\n  }\r\n\r\n  render() {\r\n\r\n    if(this.state.exist=='yes' && this.state.uid){\r\n      console.log('You are already a member of this group');\r\n      this.removeJoinGrp(this.state.uid);\r\n      this.setState({exist:''});\r\n    }\r\n\r\n    if(this.state.exist=='no' && this.state.uid){\r\n      console.log('Added to group');\r\n      this.addmember(this.state.uid);\r\n      //this.removeJoinGrp(this.state.uid);\r\n      this.setState({exist:''});\r\n    }\r\n\r\n    \r\n    if(this.state.alljoingrp){\r\n    var grps = (this.state.alljoingrp && this.state.alljoingrp.map(grp => {\r\n                    return (\r\n                         <div className=\"col-sm-4\">\r\n                          <div className=\"card\">\r\n                            <div className=\"card-body\">\r\n                              <h5 className=\"card-title\">{grp.id}</h5>\r\n                              <button onClick={() => this.handleJoin(grp.id , this.props.match.params.id)} \r\n                              class=\"btn btn-primary\">Join Group</button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                    );\r\n      })\r\n      )\r\n    } else {\r\n      var grps = \"No Invites\";\r\n    }\r\n\r\n      return (    \r\n        <div>\r\n         {grps}\r\n        </div>\r\n\r\n      );\r\n  }\r\n}\r\n\r\nexport default GrpMembers;"]},"metadata":{},"sourceType":"module"}