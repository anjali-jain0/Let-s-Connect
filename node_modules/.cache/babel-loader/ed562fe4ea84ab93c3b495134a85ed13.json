{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Anjali\\\\Desktop\\\\AJ\\\\mern_social\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Anjali\\\\Desktop\\\\AJ\\\\mern_social\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Anjali\\\\Desktop\\\\AJ\\\\mern_social\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Anjali\\\\Desktop\\\\AJ\\\\mern_social\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Anjali\\\\Desktop\\\\AJ\\\\mern_social\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Anjali\\\\Desktop\\\\AJ\\\\mern_social\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Anjali\\\\Desktop\\\\AJ\\\\mern_social\\\\src\\\\followedpost.js\";\nimport React, { Component } from 'react';\n\nvar Followedpost =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Followedpost, _Component);\n\n  function Followedpost(props) {\n    var _this;\n\n    _classCallCheck(this, Followedpost);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Followedpost).call(this, props));\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.handleS = function (e) {\n      e.preventDefault();\n      console.log('hello'); // console.log('cameee' + id)\n      // var cmt = this.state.cmt;\n      // fetch('/comment/' + cmt + '/' + id)\n      //   .then(res => res.json())\n      //   .then(data => this.setState({posts : data.posts}));\n    };\n\n    _this.handleLike = function (id) {\n      fetch('/post/' + id).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        return _this.setState({\n          posts: data.posts\n        });\n      });\n    };\n\n    _this.handleme = function (id, e) {\n      e.preventDefault(); //console.log(id);\n    };\n\n    _this.handleShare = function (e, id, id2) {\n      e.preventDefault();\n      console.log(id);\n      console.log(id2);\n      fetch('/share/' + id + '/' + id2);\n    };\n\n    _this.handleComment = function (e, postid) {\n      e.preventDefault();\n      fetch('/addcomment/' + _this.state.comment + '/' + postid);\n    };\n\n    _this.state = {\n      user: '',\n      share_seleted: '',\n      tag_selected: '',\n      following: '',\n      posts: '',\n      comment: '',\n      allusers: '',\n      publicKey: 'BKgPEG-yxGjEwubcob9tfvgfOkqjJW9EPe60SDiaJNo_EudTYOMZGkjdVP9wzVUJOCcmecelw4OKbHu-tcw2p4Y'\n    };\n    return _this;\n  }\n\n  _createClass(Followedpost, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var id = this.props.usr_id;\n      fetch('/followedpost/' + id).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        return _this2.setState({\n          posts: data\n        });\n      });\n      fetch('/myfollowing/' + id).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        return _this2.setState({\n          user: data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // var compo = (this.state.following && this.state.following.map(name => {\n      //               return (\n      //                 <div><button onClick={() => this.handlePost(name)}>{name}</button></div>\n      //               );\n      //             })\n      //             )\n      var myid = this.props.usr_id;\n      console.log(this.state.user);\n      var share = this.state.user && this.state.user.map(function (user) {\n        return React.createElement(\"div\", {\n          className: \"card\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, user.name, \" , \", user._id), React.createElement(\"form\", {\n          onSubmit: function onSubmit(e) {\n            return _this3.handleShare(e, myid, user._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-success\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, \"Share\")), React.createElement(\"form\", {\n          onSubmit: function onSubmit(e) {\n            _this3.handleTag(e, myid, user._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-success\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, \"Tag\"))));\n      });\n      var comments = this.state.posts && this.state.posts.map(function (post) {\n        var ans = post.comment && post.comment.map(function (cmt) {\n          return React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 196\n            },\n            __self: this\n          }, cmt);\n        });\n        return React.createElement(\"div\", {\n          className: \"card\",\n          style: {\n            width: 1000\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, ans)));\n      });\n      var posts = this.state.posts && this.state.posts.map(function (post) {\n        return React.createElement(\"div\", {\n          className: \"card\",\n          style: {\n            width: 1000\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, post.caption), React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          className: \"white\",\n          onSubmit: function onSubmit(e) {\n            return _this3.handleComment(post._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"input-field\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          htmlFor: \"comment\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, \"Comment\"), React.createElement(\"input\", {\n          type: \"text\",\n          name: \"comment\",\n          value: _this3.state.comment,\n          onChange: _this3.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"input-field\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"submit\",\n          className: \"btn #009688 lighten-1 z-depth-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }, \"Write\")))), comments, share));\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, posts);\n    }\n  }]);\n\n  return Followedpost;\n}(Component);\n\nexport default Followedpost;","map":{"version":3,"sources":["C:\\Users\\Anjali\\Desktop\\AJ\\mern_social\\src\\followedpost.js"],"names":["React","Component","Followedpost","props","handleChange","e","setState","target","name","value","handleS","preventDefault","console","log","handleLike","id","fetch","then","res","json","data","posts","handleme","handleShare","id2","handleComment","postid","state","comment","user","share_seleted","tag_selected","following","allusers","publicKey","usr_id","myid","share","map","_id","handleTag","comments","post","ans","cmt","width","caption"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass Followedpost extends Component {\r\n  \r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      user:'',\r\n      share_seleted : '',\r\n      tag_selected : '',\r\n      following : '',\r\n      posts : '',\r\n      comment:'',\r\n      allusers : '',\r\n      publicKey:'BKgPEG-yxGjEwubcob9tfvgfOkqjJW9EPe60SDiaJNo_EudTYOMZGkjdVP9wzVUJOCcmecelw4OKbHu-tcw2p4Y'\r\n    }\r\n  }\r\n\r\n  componentWillMount(){\r\n   var id = this.props.usr_id;\r\n    fetch('/followedpost/' + id)\r\n    .then(res => res.json())\r\n    .then(data => this.setState({posts:data}));\r\n    \r\n    fetch('/myfollowing/' + id)\r\n    .then(res => res.json())\r\n    .then(data => this.setState({user:data}));\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({[e.target.name]:e.target.value});\r\n  }\r\n  \r\n  // handlePost = (name) => {\r\n  //   fetch('/showpost/' + name)\r\n  //     .then(res => res.json())\r\n  //     .then(data => this.setState({posts : data.posts}))\r\n  // }\r\n\r\n  handleS = (e) => {\r\n    e.preventDefault();\r\n    console.log('hello');\r\n    // console.log('cameee' + id)\r\n    // var cmt = this.state.cmt;\r\n    // fetch('/comment/' + cmt + '/' + id)\r\n    //   .then(res => res.json())\r\n    //   .then(data => this.setState({posts : data.posts}));\r\n  }\r\n \r\n  handleLike = (id) => {\r\n\r\n    fetch('/post/' + id)\r\n      .then(res => res.json())\r\n      .then(data => this.setState({posts : data.posts}))\r\n  }\r\n\r\n  handleme = (id,e) => {\r\n    e.preventDefault();\r\n    //console.log(id);\r\n  }\r\n\r\n  // handleShare1 = (e) => {\r\n    \r\n  //   var shared = this.state.share_seleted;\r\n  //   shared.push(e.target.value);\r\n  //   this.setState({share_seleted : shared});\r\n  // }\r\n\r\n  handleShare = (e,id,id2) => {\r\n    e.preventDefault();\r\n    console.log(id);\r\n    console.log(id2);\r\n    fetch('/share/' + id + '/' + id2);\r\n  }\r\n\r\n  // handleShare2 = async (id , myid , e) => {\r\n  //   console.log('hey man 0');\r\n  //   e.preventDefault();\r\n\r\n    // //store this somewhere??\r\n\r\n    // if('serviceWorker' in navigator){\r\n    //   console.log('Registering SW...');\r\n    //   const register = await navigator.serviceWorker.register('./worker2.js',{\r\n    //     scope:'/'\r\n    //   });\r\n\r\n    //     console.log('SW is registered...');\r\n    //     console.log('Register Subscription...');\r\n    //     const subscription=register.pushManager.subscribe({\r\n    //     userVisibleOnly:true,\r\n    //     applicationServerKey:this.urlBase64ToUint8Array(this.state.publicKey)\r\n    //     });\r\n      \r\n    //     console.log('Push notification...');\r\n      //fetch('/share/' + id + '/' + myid + '/' + this.state.share_seleted);\r\n        //,{\r\n      //   method:'POST',\r\n      //   body:JSON.stringify(subscription),\r\n      //   headers:{\r\n      //     'content-type':'application/json'\r\n      //   }\r\n      // });\r\n    // }\r\n  //}\r\n\r\n  //  handleTag1 = (e) => {\r\n    \r\n  //   var taged = this.state.tag_seleted;\r\n  //   taged.push(e.target.value);\r\n  //   this.setState({tag_seleted : taged});\r\n  // }\r\n\r\n  // handleTag2 = async (e , id , myid) => {\r\n  //   e.preventDefault();\r\n  //   if('serviceWorker' in navigator){\r\n  //     console.log('Registering SW...');\r\n  //     const register = await navigator.serviceWorker.register('./worker2.js',{\r\n  //       scope:'/'\r\n  //     });\r\n\r\n  //       console.log('SW is registered...');\r\n  //       console.log('Register Subscription...');\r\n  //       const subscription=register.pushManager.subscribe({\r\n  //       userVisibleOnly:true,\r\n  //       applicationServerKey:this.urlBase64ToUint8Array(this.state.publicKey)\r\n  //       });\r\n      \r\n  //       console.log('Push notification...');\r\n  //       fetch('/tag/' + id + '/' + myid + '/' + this.state.tag_seleted,{\r\n  //       method:'POST',\r\n  //       body:JSON.stringify(subscription),\r\n  //       headers:{\r\n  //         'content-type':'application/json'\r\n  //       }\r\n  //     });\r\n  //   }\r\n  // }\r\n\r\n\r\n  // urlBase64ToUint8Array = (base64String) => {\r\n  //   const padding = '='.repeat((4 - base64String.length % 4) % 4);\r\n  //   const base64 = (base64String + padding)\r\n  //     .replace(/-/g, '+')\r\n  //     .replace(/_/g, '/');\r\n\r\n  //   const rawData = window.atob(base64);\r\n  //   const outputArray = new Uint8Array(rawData.length);\r\n\r\n  //   for (let i = 0; i < rawData.length; ++i) {\r\n  //     outputArray[i] = rawData.charCodeAt(i);\r\n  //   }\r\n  //   return outputArray;\r\n  // }\r\n\r\n  handleComment = (e,postid)=> {\r\n\r\n    e.preventDefault();\r\n    fetch('/addcomment/' + this.state.comment + '/' + postid)\r\n  }\r\n\r\n  render() { \r\n    // var compo = (this.state.following && this.state.following.map(name => {\r\n    //               return (\r\n    //                 <div><button onClick={() => this.handlePost(name)}>{name}</button></div>\r\n    //               );\r\n    //             })\r\n    //             )\r\n\r\n    const myid = this.props.usr_id;\r\n\r\n    console.log(this.state.user);\r\n\r\n    var share = (this.state.user && this.state.user.map(user => {\r\n                  return (\r\n\r\n                    <div className=\"card\" >\r\n                      <div className=\"card-body\">\r\n                        <p>{user.name} , {user._id}</p>\r\n                        <form onSubmit = {(e) => this.handleShare(e,myid,user._id)} >\r\n                        <button type='submit' className='btn btn-success'>Share</button>\r\n                        </form>\r\n                        <form onSubmit = {(e) => {this.handleTag(e,myid,user._id)}} >\r\n                        <button type='submit' className='btn btn-success'>Tag</button>\r\n                        </form>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                })\r\n              )\r\n   \r\n\r\n    var comments = (this.state.posts && this.state.posts.map(post => {\r\n                    var ans = (post.comment && post.comment.map(cmt => {\r\n                      return (\r\n                          <span>{cmt}</span>\r\n                      );\r\n                    }))\r\n\r\n                    return (\r\n\r\n                     <div className=\"card\" style={{width:1000}}>\r\n                      <div className=\"card-body\">\r\n                      <p>{ans}</p>\r\n                      </div>\r\n                    </div>\r\n                    );\r\n                  })\r\n              );\r\n\r\n    var posts =  (this.state.posts && this.state.posts.map(post => {\r\n                  return (\r\n\r\n                   <div className=\"card\" style={{width:1000}}>\r\n                    <div className=\"card-body\">\r\n                    <p>{post.caption}</p>\r\n\r\n                    <div className=\"container\">\r\n                      <form className=\"white\" onSubmit={(e) => this.handleComment(post._id)}>\r\n                        <div className=\"input-field\">\r\n                          <label htmlFor=\"comment\">Comment</label>\r\n                          <input type=\"text\" name=\"comment\" value={this.state.comment} onChange={this.handleChange} />\r\n                        </div>\r\n                        <div className=\"input-field\">\r\n                          <button type=\"submit\" className=\"btn #009688 lighten-1 z-depth-0\">Write</button>\r\n                        </div>\r\n                      </form>\r\n                    </div>\r\n                    \r\n                    {comments}\r\n                    {share}\r\n                    </div>\r\n                  </div>\r\n\r\n        \r\n                  );\r\n                })\r\n    );\r\n\r\n  return (\r\n  <div>\r\n  {posts}\r\n  </div>\r\n  );\r\n\r\n}}\r\n\r\nexport default Followedpost;\r\n"]},"metadata":{},"sourceType":"module"}